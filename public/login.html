<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Iniciar sesión</title>
	<link rel="stylesheet" href="./css/styles.css" />
</head>

<body>
	<div class="content">
		<div class="filters flexbox column full-height center-h center-v">
			<div class="filters flexbox column block round form">

				<form id="formLogin">
					<div class="label title">Correo o teléfono</div>
					<input class="mode-fill" type="email" name="user" id="user" placeholder="carmelo@gmail.com"
						required autofocus/>

					<div class="label title">Contraseña</div>
					<input class="mode-fill" type="password" name="password" id="password"
						placeholder="&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[\!\¡\?\¿\@\#\$\%\^\&\*\)\(\[\]\{\}\ñ\Ñ\ç\Ç\,\+\=\.\_\-\\\/\|]).{8,}" onkeyup="checkPasswordStrength(this.value)" required/>
						<label for="password" id="passwordHint" class="passwordHint">
							<span>La contraseña debe contener</span>
							<p id="passwordLength">Más de 8 caracteres</p>
							<p id="passwordUpperCase">Mínimo 1 mayúscula</p>
							<p id="passwordLowerCase">Máximo 1 minúscula</p>
							<p id="passwordContainsNumber">Mínimo 1 número</p>
							<p id="passwordContainsSpecialChar">Mínimo 1 carácter especial</p>
						</label>

					<div class="sep"></div>

					<button class="button black block center" name="submit" type="submit">
						Iniciar sesión
					</button>

					<div class="label centered block">
						<div class="label detail" style="margin-right: 6px;">¿Eres nuevo?</div>
						<a class="label bold" href="signup.html">Crear cuenta</a>
					</div>

				</form>
			</div>
		</div>
	</div>
	<script type="text/javascript" src="./login.bundle.js"></script>
</body>

<script type="text/javascript">
	function checkPasswordStrength(str) {
		var length = document.getElementById("passwordLength").classList,
		upper = document.getElementById("passwordUpperCase").classList,
		lower = document.getElementById("passwordLowerCase").classList,
		number = document.getElementById("passwordContainsNumber").classList,
		special = document.getElementById("passwordContainsSpecialChar").classList;

		hasMinLength(str) ? length.add("done") : length.remove("done")
		hasUpperCase(str) ? upper.add("done") : upper.remove("done")
		hasLowerCase(str) ? lower.add("done") : lower.remove("done")
		hasNumber(str) ? number.add("done") : number.remove("done")
		hasSpecialChar(str) ? special.add("done") : special.remove("done")
	}

	function hasMinLength(str) {
    return /^.{8,}$/.test(str)
	}
	function hasUpperCase(str) {
    return /[A-Z]/.test(str)
	}
	function hasLowerCase(str) {
    return /[a-z]/.test(str)
	}
	function hasNumber(str) {
    return /[0-9]/.test(str)
	}
	function hasSpecialChar(str) {
    return /^.*[\!\¡\?\¿\@\#\$\%\^\&\*\)\(\[\]\{\}\ñ\Ñ\ç\Ç\,\+\=\.\_\-\\\/\|]/.test(str)
	}

	window.onload = function () {
		setPasswordHintLeftValue()
	};

	function setPasswordHintLeftValue() {
		document.getElementById("passwordHint").style.marginLeft = document.getElementById("password").getBoundingClientRect().width/2 + "px";
	}
</script>

</html>